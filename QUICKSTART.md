# ğŸš€ å¿«é€Ÿå¼€å§‹ - 10åˆ†é’Ÿéƒ¨ç½²åˆ° Cloudflare

è¿™æ˜¯æœ€ç®€åŒ–çš„éƒ¨ç½²æ­¥éª¤ï¼Œé€‚åˆåˆå­¦è€…ã€‚

## ğŸ“¦ å‡†å¤‡å·¥ä½œ

ç¡®ä¿æ‚¨å·²ç»ï¼š
- âœ… æœ‰ä¸€ä¸ª Cloudflare è´¦å·ï¼ˆå…è´¹ï¼‰ï¼šhttps://dash.cloudflare.com/sign-up
- âœ… æœ‰ä¸€æœ¬å·²å¤„ç†çš„ä¹¦ç±ï¼ˆä¾‹å¦‚ `dracula_data` æ–‡ä»¶å¤¹ï¼‰

---

## âš¡ 5ä¸ªæ­¥éª¤å®Œæˆéƒ¨ç½²

### 1ï¸âƒ£ å®‰è£…å·¥å…·

```bash
# å®‰è£…ä¾èµ–
npm install

# å®‰è£… Cloudflare éƒ¨ç½²å·¥å…·
npm install -g wrangler
```

### 2ï¸âƒ£ ç™»å½• Cloudflare

```bash
wrangler login
```

ä¼šæ‰“å¼€æµè§ˆå™¨ï¼Œç‚¹å‡»"å…è®¸"å³å¯ã€‚

### 3ï¸âƒ£ åˆ›å»ºå­˜å‚¨ç©ºé—´

```bash
# åˆ›å»ºä¹¦ç±å­˜å‚¨æ¡¶
wrangler r2 bucket create reader3-books
```

å¦‚æœæç¤ºéœ€è¦å¼€å¯ R2ï¼š
1. è®¿é—® https://dash.cloudflare.com
2. ç‚¹å‡» R2
3. ç‚¹å‡»"å¼€å§‹ä½¿ç”¨"ï¼Œç»‘å®šä¿¡ç”¨å¡ï¼ˆä¸ä¼šæ‰£è´¹ï¼‰

### 4ï¸âƒ£ ä¸Šä¼ ä¹¦ç±

```bash
# è½¬æ¢ä¹¦ç±æ ¼å¼
python3 scripts/convert-to-json.py dracula_data

# ä¸Šä¼ åˆ°äº‘ç«¯
./scripts/upload-to-r2.sh dracula_data
```

### 5ï¸âƒ£ éƒ¨ç½²ä¸Šçº¿

```bash
wrangler deploy
```

ğŸ‰ **å®Œæˆï¼** è®¿é—®è¾“å‡ºçš„ç½‘å€å³å¯ï¼

---

## ğŸ“± æµ‹è¯•æ‚¨çš„ç½‘ç«™

éƒ¨ç½²æˆåŠŸåä¼šæ˜¾ç¤ºç½‘å€ï¼Œä¾‹å¦‚ï¼š
```
https://reader3.abc123.workers.dev
```

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼Œæ‚¨åº”è¯¥èƒ½çœ‹åˆ°ï¼š
- ğŸ“š ä¸»é¡µæ˜¾ç¤ºä¹¦ç±åˆ—è¡¨
- ğŸ“– ç‚¹å‡»å¯ä»¥é˜…è¯»ä¹¦ç±
- ğŸŒ™ ä¸»é¢˜åˆ‡æ¢æŒ‰é’®
- ğŸ“± ç§»åŠ¨ç«¯é€‚é…è‰¯å¥½

---

## ğŸ”„ æ·»åŠ æ›´å¤šä¹¦ç±

```bash
# 1. å¤„ç†æ–°ä¹¦
python3 reader3.py newbook.epub

# 2. è½¬æ¢æ ¼å¼
python3 scripts/convert-to-json.py newbook_data

# 3. ä¸Šä¼ 
./scripts/upload-to-r2.sh newbook_data
```

åˆ·æ–°ç½‘ç«™ï¼Œæ–°ä¹¦ç«‹å³å‡ºç°ï¼

---

## â“ é‡åˆ°é—®é¢˜ï¼Ÿ

### é—®é¢˜1ï¼šå‘½ä»¤not found

**è§£å†³ï¼š** ç¡®ä¿åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œå‘½ä»¤

```bash
cd /path/to/reader3
```

### é—®é¢˜2ï¼šæ²¡æœ‰ä¹¦ç±æ˜¾ç¤º

**æ£€æŸ¥ï¼š** ç¡®è®¤å·²ä¸Šä¼ ä¹¦ç±

```bash
# æŸ¥çœ‹ R2 ä¸­çš„æ–‡ä»¶
wrangler r2 object list reader3-books
```

åº”è¯¥èƒ½çœ‹åˆ° `dracula_data/book.json`

### é—®é¢˜3ï¼šå›¾ç‰‡æ— æ³•æ˜¾ç¤º

**è§£å†³ï¼š** é‡æ–°ä¸Šä¼ ä¹¦ç±

```bash
./scripts/upload-to-r2.sh dracula_data
```

---

## ğŸ“– æ›´å¤šä¿¡æ¯

- **å®Œæ•´æ–‡æ¡£ï¼š** æŸ¥çœ‹ [DEPLOY.md](DEPLOY.md)
- **é¡¹ç›®è¯´æ˜ï¼š** æŸ¥çœ‹ [README.md](README.md)
- **Cloudflare æ–‡æ¡£ï¼š** https://developers.cloudflare.com/workers/

---

**äº«å—æ‚¨çš„åœ¨çº¿ä¹¦åº“ï¼** ğŸ“šâœ¨
